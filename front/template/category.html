<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Category - ExploreUr</title>
    <link rel="stylesheet" href="../static/css/category.css">
    <link rel="stylesheet" href="../static/css/header.css">
    <link rel="icon" type="image/x-icon" href="https://localhost:8080/static/image/logo.png">
</head>
<body>

<header>
    <a href="https://localhost:8080/">
        <img class="img_header" src="https://localhost:8080/static/image/logo.png" alt="">
    </a>
    <a class="a_header" href="https://localhost:8080/category">
        <h1 class="headerLetter">Category</h1>
    </a>
    {{if not .IsConnected}}
        <a class="a_header" href="https://localhost:8080/login">
            <h1 class="headerLetter">Sign in / Sign up</h1>
        </a>
    {{else if .IsConnected}}
        <a class="a_header" href="https://localhost:8080/activity">
            <h1 class="headerLetter">Activity</h1>
        </a>
        <a class="a_header" href="https://localhost:8080/logout">
            <h1 class="headerLetter">Logout</h1>
        </a>
    {{end}}
</header>


<h1 class="title"> Category </h1>

    {{if eq .Role "admin"}}
<div class="cat">
    <form name="newCategory">
        <label>
            <input class="input" type="text" name="categoryName"  autocomplete="off" placeholder="Enter a category name" required>
        </label>
        <button name="submitButton" type="submit">Add</button>
    </form>
</div>
    {{end}}

{{range .Category}}
<a class={{.}} data-name="category">
    <div class="cat">
        <p class="txt">{{.}}</p>
    </div>
</a>
{{end}}

<script type="module">
    const aCategory = [...document.querySelectorAll('a')].filter(el => el.dataset.name === "category")
    let j=1
    for (let i = 0; i < aCategory.length; i++) {
        aCategory[i].href = `/${j}`
        j++
    }


    import {category} from '../static/js/category.js'

    category()
</script>
<footer>
    <p align="center">the project is a Forum was created for 2023 end year with : <br>- Fauré Léo <br>- Cenac Lucille <br>- Brun Sasha <br>- Laldy-Maquiha Adan</p>
</footer>
</body>
</html>